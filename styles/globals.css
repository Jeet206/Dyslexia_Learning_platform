/* style.css - modernized + animated (fixed text colors + improved textarea) */

/* Fonts: modern primary + playful fallback */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Comic+Neue:wght@300;400;700&display=swap');

:root{
  --bg-1: #f4f8ff;
  --bg-2: #eef6ff;
  --card-bg: #ffffff;
  --muted: #7b8aa3;
  --accent-1: #3b82f6;   /* blue */
  --accent-2: #6c5ce7;   /* purple */
  --accent-3: #4ecdc4;   /* teal */
  --accent-warm: #ff6b6b; /* warm */
  --glass: rgba(255,255,255,0.75);
  --soft-shadow: 0 12px 30px rgba(29,41,76,0.06);
  --soft-shadow-2: 0 8px 18px rgba(29,41,76,0.04);
  --radius: 16px;
  --ease: cubic-bezier(.2,.9,.2,1);

  /* main text colors */
  --text: #0f1724;            /* primary on white cards */
  --text-dim: #2b3b52;        /* slightly dim */
  --muted-2: #607892;
  --placeholder: #9aa9c6;
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body,#__next{height:100%}
body{
  font-family: 'Inter', 'Comic Neue', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg,var(--bg-1),var(--bg-2));
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  color: var(--text);
  padding:28px;
  line-height:1.45;
}

/* make container the authoritative text color for children */
.container{
  max-width:1100px;
  margin:0 auto;
  background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.92));
  border-radius: calc(var(--radius) + 4px);
  box-shadow: var(--soft-shadow);
  overflow: hidden;
  border: 1px solid rgba(15,23,36,0.03);
  color: var(--text); /* ensure dark text */
}

/* If any element explicitly set to white (like header) keep that behavior */
.header, .header * { color: white !important; }

/* Header */
.header{
  background: linear-gradient(135deg, rgba(99,102,241,0.95), rgba(79,70,229,0.95));
  text-align:center;
  padding:34px 28px;
  position:relative;
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:center;
}
.header h1{
  font-size:28px;
  font-weight:700;
  letter-spacing:-0.02em;
  text-shadow: 0 6px 18px rgba(79,70,229,0.18);
}
.header p{ font-size:15px; opacity:0.95; max-width:820px; }

/* subtle floating image under header if present */
.header .hero-img{
  width:96px;height:96px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
  box-shadow: 0 12px 40px rgba(79,70,229,0.12);
  display:flex;align-items:center;justify-content:center;margin-top:10px;
}

/* Input area */
.input-section{
  padding:32px;
  display:block;
  background:transparent;
}
.form-grid{
  display:grid;
  grid-template-columns: 1fr 320px;
  gap:28px;
  align-items:start;
}

/* left column card */
.left-col{
  background:var(--card-bg);
  padding:22px;
  border-radius:12px;
  box-shadow: var(--soft-shadow-2);
  border:1px solid rgba(15,23,36,0.03);
  color: var(--text); /* explicitly dark text for card content */
}

/* right column small controls card */
.right-col{background:transparent; display:flex; flex-direction:column; gap:12px;}

/* label and helper */
.form-group{margin-bottom:14px}
.form-group label{display:block; font-weight:700; color:var(--text-dim); margin-bottom:8px; font-size:14px}
.form-help{font-size:13px;color:var(--muted-2)}

/* TEXTAREA (improved appearance) */
textarea{
  width:100%;
  min-height:160px;
  padding:18px;
  border-radius:12px;
  border:1px solid rgba(15,23,36,0.06);
  background: linear-gradient(180deg,#ffffff,#fbfdff);
  font-size:15px;
  color: var(--text);
  resize:vertical;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.9),
    inset 0 -6px 18px rgba(2,6,23,0.02),
    0 6px 18px rgba(2,6,23,0.03);
  transition: transform .22s var(--ease), box-shadow .28s var(--ease), border-color .18s var(--ease);
  outline: none;
  caret-color: var(--accent-1);
  line-height:1.6;
}
textarea::placeholder{ color: var(--placeholder); font-style:italic; }
textarea:focus{
  transform: translateY(-2px);
  border-color: rgba(62,133,232,0.95);
  box-shadow:
    0 6px 24px rgba(59,130,246,0.08),
    0 0 0 6px rgba(59,130,246,0.06);
}

/* controls card */
.controls-card{
  background:var(--card-bg);
  padding:18px;border-radius:12px;
  box-shadow: var(--soft-shadow-2); border:1px solid rgba(15,23,36,0.03);
  display:flex;flex-direction:column;gap:12px;
  color: var(--text);
}

/* select & checkbox */
select{
  width:100%; padding:12px; border-radius:10px; border:1px solid rgba(15,23,36,0.06);
  background:#fbfdff; font-size:14px; color:var(--text);
}
.checkbox-label{display:flex;gap:10px;align-items:center;font-size:14px;color:var(--muted-2)}
.checkbox-label input{width:18px;height:18px;accent-color:var(--accent-3)}

/* generate button - animated gradient + micro bounce */
.generate-btn{
  width:100%;
  margin-top:8px;
  padding:14px 18px;
  font-weight:700;
  font-size:16px;
  color:white;
  border:none;
  border-radius:12px;
  cursor:pointer;
  background: linear-gradient(90deg,var(--accent-1),var(--accent-2),var(--accent-warm));
  background-size:300% 300%;
  box-shadow: 0 12px 30px rgba(59,130,246,0.14), inset 0 -6px 18px rgba(0,0,0,0.06);
  transition: transform .22s var(--ease), box-shadow .22s var(--ease), filter .22s var(--ease);
}
.generate-btn:hover:not(:disabled){
  transform: translateY(-4px) scale(1.01);
  animation: gradientShift 3.8s linear infinite;
  box-shadow: 0 20px 40px rgba(59,130,246,0.15);
}
.generate-btn:active{ transform: translateY(-2px) scale(.998); }
.generate-btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; animation:none; }

/* subtle animated gradient shift */
@keyframes gradientShift{
  0%{ background-position:0% 50% }
  50%{ background-position:100% 50% }
  100%{ background-position:0% 50% }
}

/* loader small */
.loader{display:inline-block;margin-left:8px;opacity:0.95}

/* results area */
.results{padding:26px;background:transparent; color:var(--text)}
.simplified-section{
  background:var(--card-bg); padding:22px;border-radius:12px;box-shadow:var(--soft-shadow-2);
  border:1px solid rgba(15,23,36,0.03); margin-bottom:22px; transform-origin:top center;
  transition: transform .36s var(--ease), opacity .36s var(--ease);
  opacity:0; transform: translateY(8px);
}
.simplified-section.visible{ opacity:1; transform: translateY(0); }

.simplified-section h2{ color:var(--accent-3); font-size:18px; margin-bottom:12px; font-weight:700}
.simplified-text{ font-size:15px; color:var(--text-dim); line-height:1.7 }

/* questions */
.questions-section h2{ color:var(--accent-3); font-size:18px; margin-bottom:18px; font-weight:700 }
.questions-list{ display:flex; flex-direction:column; gap:18px }

/* question card */
.question-card{
  background:var(--card-bg); padding:18px; border-radius:12px; box-shadow: var(--soft-shadow-2);
  border:1px solid rgba(15,23,36,0.03);
  transition: transform .28s var(--ease), box-shadow .28s var(--ease), opacity .28s var(--ease);
  transform: translateY(8px); opacity:0;
  color: var(--text); /* ensure dark text for cards */
}
.question-card.enter{ transform: translateY(0); opacity:1; }
.question-card:hover{ transform: translateY(-6px); box-shadow: 0 22px 40px rgba(2,6,23,0.06) }

/* header inside card */
.question-header{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px }
.question-header h3{ font-size:16px; color:var(--text-dim) }
.question-type{ background: linear-gradient(90deg,var(--accent-3), var(--accent-1)); color:white; padding:6px 12px; border-radius:999px; font-weight:700; font-size:12px }

/* question text */
.question-text{ font-size:15px; color:var(--text-dim); margin-bottom:12px }

/* options - clickable cards */
.options{ display:flex; flex-direction:column; gap:10px; margin-bottom:12px }
.option{
  display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;border:1px solid rgba(15,23,36,0.04);
  cursor:pointer;background:linear-gradient(180deg, #ffffff, #fbfdff);
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease);
  color: var(--text-dim);
}
.option:hover{ transform: translateY(-3px); box-shadow: 0 12px 28px rgba(2,6,23,0.04) }
.option input{ margin-right:6px; accent-color:var(--accent-1) }
.option.selected{ border-color: rgba(62,133,232,0.95); box-shadow: 0 14px 34px rgba(62,133,232,0.06); transform: translateY(-4px); background: linear-gradient(180deg,#fbfdff,#f3f9ff) }

/* short answer */
.short-answer textarea{ min-height:90px; padding:12px }

/* action buttons */
.question-actions{ display:flex; gap:12px; margin-bottom:12px; flex-wrap:wrap }
.hint-btn, .answer-btn{
  padding:10px 16px;border-radius:999px;border:none;cursor:pointer;font-weight:700;
  transition: transform .18s var(--ease), box-shadow .18s var(--ease);
}
.hint-btn{ background:#fff4d9; color:#7a5a05; box-shadow: 0 8px 20px rgba(250,204,21,0.06) }
.hint-btn:hover{ transform: translateY(-3px) }
.answer-btn{ background: linear-gradient(90deg,var(--accent-2), #5b3fd7); color:white; box-shadow: 0 8px 24px rgba(108,92,231,0.08) }
.answer-btn:hover{ transform: translateY(-3px) }

/* hint/answer reveal with animation (use max-height for smooth transition) */
.hint, .answer{
  overflow:hidden;
  max-height:0;
  opacity:0;
  transition: max-height .36s var(--ease), opacity .28s var(--ease), transform .28s var(--ease);
  margin-top:8px;
  background: linear-gradient(180deg,#fbfdff,#fcfeff);
  border-left:4px solid #ffdd57;
  padding:12px 14px;
  border-radius:8px;
  color:var(--text-dim);
}
.hint.open, .answer.open{ max-height:320px; opacity:1 }

/* mic button style (for practice area) */
.mic-btn{
  width:86px;height:86px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;font-size:20px;color:white;
  background: linear-gradient(180deg,var(--accent-1), var(--accent-2));
  box-shadow: 0 20px 50px rgba(59,130,246,0.16);
  border:none; cursor:pointer; transition: transform .18s var(--ease);
  position:relative;
}
.mic-btn:active{ transform: scale(.98) }

/* pulsing glow */
.mic-glow{
  position:absolute;inset:0;border-radius:inherit;filter:blur(18px);opacity:0.8;
  background: radial-gradient(circle at 30% 20%, rgba(99,102,241,0.24), rgba(99,102,241,0.06) 30%, transparent 60%);
  animation: micPulse 2.8s ease-in-out infinite;
}
@keyframes micPulse{
  0%{ transform: scale(1); opacity:.9 }
  50%{ transform: scale(1.07); opacity:.65 }
  100%{ transform: scale(1); opacity:.9 }
}

/* small utility - floating bottom nav look */
.bottom-fab{
  position:fixed; left:50%; transform:translateX(-50%); bottom:20px; background:var(--card-bg);
  padding:8px;border-radius:999px;box-shadow: 0 10px 30px rgba(2,6,23,0.06); display:flex;gap:8px;align-items:center;
}

/* subtle entrance for the whole page */
.fade-in{ animation: pageIn .6s var(--ease) both }
@keyframes pageIn{ from{ opacity:0; transform: translateY(6px) } to{ opacity:1; transform:translateY(0) } }

/* responsiveness */
@media (max-width:980px){
  .form-grid{ grid-template-columns: 1fr; }
  .right-col{ order:2 }
  .left-col{ order:1 }
  .container{ padding-bottom:76px }
}
